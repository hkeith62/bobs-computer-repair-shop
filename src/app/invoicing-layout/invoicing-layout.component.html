
<div class="mat-app-background" [ngClass]="{'dark-theme-mode': isDarkTheme}">
  <mat-toolbar class="toolbar">
    <mat-toolbar-row>
      <div class="logo">
        <img src="./assets/bobs logo.png" height="50" />
      </div>
      <div style="width: 80%">
        <div fxLayout="row wrap" fxLayoutAlign="end start" class="white">

          <button class= "sign-in-container-one" mat-button (click)="signOut()">Sign Out</button>
        </div>
      </div>
      <br /><br /><br /><span class="toggle-text" style="flex:auto"></span>
        <mat-slide-toggle [(ngModel)]='isDarkTheme' class="toggle-text">Dark Theme</mat-slide-toggle>
    </mat-toolbar-row>
  </mat-toolbar>

  <br />
  <div class="container" width="800px" id="invoice" >
    <br /><br />
      <div class="row" >
          <div class="col-xs-6 heading blue" >INVOICING</div>
      </div>
      <br /><br /><br />
      <div fxLayout="row wrap">
          <div fxFlex style="margin-bottom:100%">
              <mat-card class="main-container">
                  <mat-card-title class="blue"></mat-card-title>
                  <br /><br />
                  <mat-card-content>
                    <form [formGroup]="form">
                    <div formArrayName="items">
                    <section class="jumbotron">
                      <div class="row infos">
                        <div class="col-xs-6 customer-info">
                          <div class="input-container"><label for ="customer-name">Customer:</label><br><input formControlName="customerName" class="form-control" type="text" placeholder="name..." /></div><br />
                          <div class="alert alert-danger" *ngIf="customerNameErrors?.['required']">Customer name is required</div>
                        </div>
                      </div>
                    </section><br /><br />
                    <section class="row" ng-controller="InvoiceController">
                      <table class="table table-hover">

                        <thead>
                          <tr>
                            <th>Description</th>
                            <th>Qty</th>
                            <th>Unit Price</th>
                            <th>Labor (hrs)</th>
                            <th>Total</th>

                          </tr>
                        </thead>

                        <tbody>

                          <tr *ngFor="let item of items.controls; let i=index" [formGroupName]="i">
                            <td><input formControlName="description" name="description" type="text"  /></td>
                            <td><input formControlName="qty" name="qty" type="number" class="form-control" /></td>
                            <td><input formControlName="unitPrice" name="unitPrice" type="number" class="form-control" /></td>
                            <td><input formControlName="labor" name="labor" type="number" class="form-control" /></td>
                            <td><input formControlName="total" name="total" type="number" class="form-control" /></td>
                            <td><button type="button" class="btn btn-danger"(click)="removeItem('i')">Remove</button></td>
                          </tr>

                          <div id="error-message" class="alert alert-danger" *ngIf="descriptionErrors?.['required']">A description is required</div>
                          <tr>
                            <div class="row" id="btn-size">
                          <td><button type="button" style="margin-top:45px" class="btn btn-primary" fxFlex mat-raised-button color="primary" (click)="addNewItem()">Add item</button></td></div>

                            <td></td>
                            <td></td>
                            <br/><br /><br /> <br />
                            <td></td>
                            <div flexLayout class="row-wrap" id="tax-menu">
                                <div class="row">
                                    <td>Sub Total: &nbsp;</td>
                                </div>
                                <div class="row">
                                    <td>Tax(%):&nbsp;&nbsp;<input formControlName="invoiceTax" class="form-control" type="number" style="width:43px"></td>
                                </div>
                                <div class="row"><td>Total:&nbsp;</td></div>
                           </div>

                          </tr>

                        </tbody>
                      </table>
                    </section>
                  </div>
                  </form>
                  </mat-card-content>
              </mat-card>
              <br /><br />
          </div>
      </div>
  </div>
</div>
